<script>
    const form = document.querySelector("form");
    const responseDiv = document.createElement("p");
    form.appendChild(responseDiv);
  
    form.addEventListener("submit", async (e) => {
      e.preventDefault();
  
      const name = document.querySelector('input[name="name"]').value.trim();
      const email = document.querySelector('input[name="email"]').value.trim();
      const message = document.querySelector('textarea[name="message"]').value.trim();
  
      // ✅ Use your Render backend live URL
      const apiURL = "https://contact-form-app-84vz.onrender.com/submit";
  
      try {
        const res = await fetch(apiURL, {
          method: "POST",
          headers: { "Content-Type": "application/json" },
          body: JSON.stringify({ name, email, message }),
        });
  
        const data = await res.json();
  
        if (data.success) {
          responseDiv.textContent = "✅ Message sent successfully!";
          responseDiv.style.color = "limegreen";
          form.reset();
        } else {
          responseDiv.textContent = "❌ Failed to send message. Try again.";
          responseDiv.style.color = "red";
        }
      } catch (err) {
        console.error("⚠️ Error:", err);
        responseDiv.textContent = "⚠️ Server error. Please try again later.";
        responseDiv.style.color = "red";
      }
    });
  </script>